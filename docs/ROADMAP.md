# 향후 개발 계획 (Roadmap)

> 📌 이 문서는 [README.md](../README.md)의 Implementation Roadmap과 연계된 상세 개발 계획입니다.

---

## 현재 진행 상황 (README Phase 기준)

| Phase | 상태 | 설명 |
|-------|------|------|
| Phase 1: Foundation | ✅ 완료 | 백엔드 구조, DB 스키마, JWT 인증 |
| Phase 2: Large File Transfer | ✅ 완료 | tus 업로드, Resumable 다운로드 |
| Phase 3: Processing Engine | ✅ 완료 | ODM 통합, 외부 엔진 API |
| Phase 4: Project Management | ✅ 완료 | EO 파싱, UI 최적화, 대시보드, 프리셋 |
| Phase 5: Advanced Features | 🔄 진행중 | 지도 시각화, 통계, 그루핑 (진행중) |

---

## Phase 4 상세: UI/UX 개선

### 4.1 ✅ 완료된 항목

#### 기본 기능
- [x] EO 데이터 파싱 및 저장 (다중 공백 구분자 지원)
- [x] 지도에 촬영 위치 표시 (EPSG:5186 → WGS84 변환)
- [x] 프로젝트 삭제 (개별/멀티)
- [x] 업로드 완료 후 처리 화면 자동 진입
- [x] URL 파라미터를 통한 상태 유지

#### 대시보드 기능 (2026-01-08 완료)
- [x] **대시보드 레이아웃 토글**: Wide/Narrow/Auto 모드 선택 가능
  - 🔲 Wide: 지도와 통계를 가로로 배치
  - 📋 Narrow: 지도 아래에 통계 배치
  - 🔄 Auto: 컨테이너 너비에 따라 자동 전환
- [x] **처리 시작 후 하이라이트**: 처리 시작 시 대시보드로 이동하고 해당 프로젝트 풋프린트를 3.5초간 펄스 애니메이션으로 강조
- [x] **호버 액션 아이콘**: Compact 모드에서도 프로젝트 항목에 마우스 호버 시 처리(▶)/내보내기(⬇) 아이콘 표시
- [x] **확장된 프로젝트 정보**: InspectorPanel에 원본사진 수, 촬영일, 데이터용량 등 상세 정보 표시
- [x] **Footprint Map**: 프로젝트 영역을 지도에 폴리곤으로 표시 및 클릭 상호작용

#### 네비게이션 & 접근성
- [x] **메인 페이지 네비게이션**: 헤더 로고 클릭 시 메인 페이지로 이동
- [x] **처리 패널 접근성**: 프로젝트 카드에서 직접 처리 화면 접근 가능

---

### 4.2 ✅ 완료된 항목 (2026-01-09)

#### 4.2.1 사이드바 리사이즈 성능 개선
- [x] requestAnimationFrame 기반 throttling 적용
- [x] 리사이즈 중 애니메이션 최적화

#### 4.2.2 업로드 마법사 UX 개선
- [x] 취소/X 버튼 추가
- [x] 프로젝트 이름 지정 기능
- [x] 폴더 선택 시 이미지 파일만 필터링
- [x] 이미지/EO 수 불일치 경고 모달

#### 4.2.3 레이아웃 개선
- [x] Wide 모드 지도 전체 높이 사용
- [x] 사이드바 너비에 따른 자동 레이아웃 전환
- [x] 확장 모드 프로젝트 정보 가로 배치

---

### 4.3 ✅ 완료된 항목 (2026-01-10)

#### 4.3.1 처리 옵션 프리셋
- [x] 백엔드 프리셋 CRUD API 구현
- [x] 프론트엔드 프리셋 선택 및 자동 적용 로직
- [x] 현재 설정을 새 프리셋으로 저장 기능

#### 4.3.2 클릭/더블클릭 동작 분리
- [x] 단일 클릭: 프로젝트 선택 및 지도 하이라이트 (지도 껌뻑임 4회)
- [x] 더블 클릭: 상세 정보 패널(Inspector) 열기
- [x] 클릭 타이머를 통한 모호성 제거 (250ms 지연)

---

## Phase 5 상세: 고급 기능

> README의 Phase 5 항목과 연계

### 5.1 다중 사용자 권한 관리
- 조직 내 역할별 권한 분리 (관리자, 편집자, 뷰어)
- 프로젝트별 접근 권한 설정

### 5.2 조직 스토리지 할당량
- 조직별 MinIO 버킷 용량 제한
- 사용량 모니터링 및 알림

### 5.3 지도 시각화 고급 기능
- [x] Leaflet 기반 지도 컴포넌트
- [x] 촬영 위치 포인트 표시
- [x] 프로젝트 풋프린트 표시
- [ ] 정사영상 오버레이
- [ ] 레이어 컨트롤

### 5.4 대시보드 통계 확장
- [x] 프로젝트 현황 카드 (처리중/완료/전체)
- [x] 처리 면적 및 데이터 용량 통계
- [ ] 월별 처리량 차트 (API 연동)
- [ ] 지역별 분포 차트 (API 연동)

### 5.5 일괄 내보내기
- 다중 프로젝트 정사영상 일괄 다운로드
- ZIP 압축 패키징

### 5.6 프로젝트 그루핑 (✅ 완료)
- [x] 백엔드 Group 모델 및 API 구현 (CRUD)
- [x] API 클라이언트 연동 및 Scaffolding (`GroupItem` 컴포넌트)
- [x] 사이드바 폴더 트리 렌더링 및 드래그앤드롭
- [x] 그룹 생성/수정/삭제 모달
- [ ] 그룹별 필터링 및 일괄 작업 (추후 개선)

---

## 최근 변경 이력

| 날짜 | 항목 | 내용 |
|------|------|------|
| 2026-01-12 | 그루핑 | 사이드바 폴더 트리, 드래그앤드롭, 생성/수정/삭제 모달 구현 완료 |
| 2026-01-10 | 그루핑 | 백엔드 API 및 프론트엔드 Scaffolding 완료 |
| 2026-01-10 | 프리셋 | 처리 옵션 프리셋 저장 및 불러오기 기능 |
| 2026-01-10 | UI/UX | 클릭/더블클릭 동작 분리 (상세보기 vs 하이라이트) |
| 2026-01-09 | 리사이즈 | RAF 기반 부드러운 사이드바 리사이즈 |
| 2026-01-09 | 업로드 | 취소 버튼, 프로젝트 이름, 이미지 필터링, 불일치 경고 |
| 2026-01-09 | 레이아웃 | Wide 지도 전체높이, 자동전환, 가로배치 |
| 2026-01-08 | 대시보드 | 레이아웃 토글 (Wide/Narrow/Auto) 추가 |
| 2026-01-08 | 대시보드 | 처리 시작 시 풋프린트 하이라이트 애니메이션 |
| 2026-01-08 | 프로젝트 | Compact 모드 호버 액션 아이콘 |
| 2026-01-08 | 프로젝트 | InspectorPanel에 확장 정보 표시 |
| 2026-01-07 | 프로젝트 | 삭제 기능 (개별/멀티) |
| 2026-01-07 | 지도 | EO 포인트 즉시 표시 수정 |

---

## 구현 권장 순서

1. **5.6 프로젝트 그루핑** - 프로젝트 관리 체계화
2. **5.4 대시보드 통계 확장** - 실제 API 데이터 연동
3. **5.3 지도 시각화 고급** - 정사영상 오버레이
4. **Phase 5 기타 항목들** - 고급 기능 순차 구현

---

## 기술 스택 참조

- **프론트엔드**: React + Vite + TailwindCSS + Leaflet + Recharts
- **백엔드**: FastAPI + PostgreSQL + MinIO
- **업로드**: TUS Protocol (Resumable Upload)
- **처리 엔진**: OpenDroneMap + External API

---

*마지막 업데이트: 2026-01-09*
